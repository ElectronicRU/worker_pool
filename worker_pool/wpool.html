<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>wpool (worker_pool) -  (Erlang Documentation)</title>
    <link href="../erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44246018-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        

<h1>wpool</h1>
<h2 class="modsummary">Worker&nbsp;pool&nbsp;main&nbsp;interface.</h2>
<div class="description">
<p>Worker&nbsp;pool&nbsp;main&nbsp;interface.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;functions&nbsp;provided&nbsp;by&nbsp;this&nbsp;module&nbsp;to&nbsp;manage&nbsp;your&nbsp;pools&nbsp;of&nbsp;workers</p></div>
<div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
&nbsp;&nbsp;&nbsp;&nbsp;<div class="type"><h3 id="type-available_worker_timeout">available_worker_timeout()&nbsp;=&nbsp;timeout()</h3></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="type"><h3 id="type-name">name()&nbsp;=&nbsp;atom()</h3></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="type"><h3 id="type-option">option() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{overrun_warning, infinity | integer() >= 1} |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{overrun_handler, {Module :: atom(), Fun :: atom()}} |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{workers, integer() >= 1} |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{worker_opt, <a href="gen.html#type-options" class="seealso">gen:options()</a>} |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{worker, {Module :: atom(), InitArg :: term()}} |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{strategy, <a href="supervisor.html#type-strategy" class="seealso">supervisor:strategy()</a>}</h3></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="type"><h3 id="type-stats">stats() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{workers, integer() >= 1} |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{total_message_queue_len, integer() >= 0} |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{worker_stats, [{integer() >= 1, <a href="#type-worker_stats" class="seealso">worker_stats()</a>}]}]</h3></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="type"><h3 id="type-strategy">strategy() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;best_worker |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;random_worker |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_worker |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;available_worker |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{hash_worker, integer() >= 0}</h3></div>
&nbsp;&nbsp;&nbsp;&nbsp;<div class="type"><h3 id="type-worker_stats">worker_stats() = <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{messsage_queue_len, integer() >= 0} |<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{memory, integer() >= 1}]</h3></div></div>
<div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
<div class="function">
<h3 id="start/0">start()&nbsp;-&gt;&nbsp;ok&nbsp;|&nbsp;{error,&nbsp;{already_started,&nbsp;wpool}}</h3>


<div class="description">

<p>Starts&nbsp;the&nbsp;application</p>
</div></div>
<div class="function">
<h3 id="stop/0">stop()&nbsp;-&gt;&nbsp;ok</h3>


<div class="description">

<p>Stops&nbsp;the&nbsp;application</p>
</div></div>
<div class="function">
<h3 id="start_pool/1">start_pool(Name::name())&nbsp;-&gt;&nbsp;{ok,&nbsp;pid()}</h3>


<div class="description">
<p>Equivalent&nbsp;to&nbsp;<a href="#start_pool/2" class="seealso">start_pool(Name,&nbsp;[])</a>.</p>
</div></div>
<div class="function">
<h3 id="start_pool/1-1">start_pool(Name::name(),&nbsp;Options::[option()])&nbsp;-&gt;&nbsp;{ok,&nbsp;pid()}&nbsp;|&nbsp;{error,&nbsp;{already_started,&nbsp;pid()}&nbsp;|&nbsp;term()}</h3>


<div class="description">

<p>Starts&nbsp;(and&nbsp;links)&nbsp;a&nbsp;pool&nbsp;of&nbsp;N&nbsp;wpool_processes.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;result&nbsp;pid&nbsp;belongs&nbsp;to&nbsp;a&nbsp;supervisor&nbsp;(in&nbsp;case&nbsp;you&nbsp;want&nbsp;to&nbsp;add&nbsp;it&nbsp;to&nbsp;a
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;supervisor&nbsp;tree)</p>
</div></div>
<div class="function">
<h3 id="start_sup_pool/1">start_sup_pool(Name::name())&nbsp;-&gt;&nbsp;{ok,&nbsp;pid()}</h3>


<div class="description">
<p>Equivalent&nbsp;to&nbsp;<a href="#start_sup_pool/2" class="seealso">start_sup_pool(Name,&nbsp;[])</a>.</p>
</div></div>
<div class="function">
<h3 id="start_sup_pool/1-1">start_sup_pool(Name::name(),&nbsp;Options::[option()])&nbsp;-&gt;&nbsp;{ok,&nbsp;pid()}&nbsp;|&nbsp;{error,&nbsp;{already_started,&nbsp;pid()}&nbsp;|&nbsp;term()}</h3>


<div class="description">

<p>Starts&nbsp;a&nbsp;pool&nbsp;of&nbsp;N&nbsp;wpool_processes&nbsp;supervised&nbsp;by&nbsp;<a href="wpool_sup.html" class="seealso">wpool_sup</a></p>
</div></div>
<div class="function">
<h3 id="stop_pool/1">stop_pool(Name::name())&nbsp;-&gt;&nbsp;ok</h3>


<div class="description">

<p>Stops&nbsp;the&nbsp;pool</p>
</div></div>
<div class="function">
<h3 id="default_strategy/0">default_strategy()&nbsp;-&gt;&nbsp;strategy()</h3>


<div class="description">

<p>Default&nbsp;strategy</p>
</div></div>
<div class="function">
<h3 id="call/1">call(Sup::name(),&nbsp;Call::term())&nbsp;-&gt;&nbsp;term()</h3>


<div class="description">
<p>Equivalent&nbsp;to&nbsp;<a href="#call/3" class="seealso">call(Sup,&nbsp;Call,&nbsp;default_strategy())</a>.</p>
</div></div>
<div class="function">
<h3 id="call/1-1">call(Sup::name(),&nbsp;Call::term(),&nbsp;Strategy::strategy())&nbsp;-&gt;&nbsp;term()</h3>


<div class="description">
<p>Equivalent&nbsp;to&nbsp;<a href="#call/4" class="seealso">call(Sup,&nbsp;Call,&nbsp;Strategy,&nbsp;5000)</a>.</p>
</div></div>
<div class="function">
<h3 id="call/1-2">call(Sup::name(),&nbsp;Call::term(),&nbsp;Strategy::strategy(),&nbsp;Timeout::timeout())&nbsp;-&gt;&nbsp;term()</h3>


<div class="description">

<p>Picks&nbsp;a&nbsp;server&nbsp;and&nbsp;issues&nbsp;the&nbsp;call&nbsp;to&nbsp;it.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;all&nbsp;strategies&nbsp;except&nbsp;available_worker,&nbsp;Timeout&nbsp;applies&nbsp;only&nbsp;to&nbsp;the
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time&nbsp;spent&nbsp;on&nbsp;the&nbsp;actual&nbsp;call&nbsp;to&nbsp;the&nbsp;worker,&nbsp;because&nbsp;time&nbsp;spent&nbsp;finding
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;worker&nbsp;in&nbsp;other&nbsp;strategies&nbsp;is&nbsp;negligible.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;available_worker&nbsp;the&nbsp;time&nbsp;used&nbsp;choosing&nbsp;a&nbsp;worker&nbsp;is&nbsp;also&nbsp;considered</p>
</div></div>
<div class="function">
<h3 id="call/1-3">call(Sup::name(),&nbsp;Call::term(),&nbsp;Strategy::strategy(),&nbsp;WorkerTimeout::available_worker_timeout(),&nbsp;Timeout::timeout())&nbsp;-&gt;&nbsp;term()</h3>


<div class="description">

<p>Picks&nbsp;a&nbsp;server&nbsp;and&nbsp;issues&nbsp;the&nbsp;call&nbsp;to&nbsp;it.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;all&nbsp;strategies&nbsp;except&nbsp;available_worker,&nbsp;WorkerTimeout&nbsp;is&nbsp;ignored
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;available_worker&nbsp;the&nbsp;total&nbsp;timeout&nbsp;will&nbsp;be&nbsp;WorkerTimeout&nbsp;+&nbsp;Timeout.</p>
</div></div>
<div class="function">
<h3 id="cast/1">cast(Sup::name(),&nbsp;Cast::term())&nbsp;-&gt;&nbsp;ok</h3>


<div class="description">
<p>Equivalent&nbsp;to&nbsp;<a href="#cast/3" class="seealso">cast(Sup,&nbsp;Cast,&nbsp;default_strategy())</a>.</p>
</div></div>
<div class="function">
<h3 id="cast/1-1">cast(Sup::name(),&nbsp;Cast::term(),&nbsp;Strategy::strategy())&nbsp;-&gt;&nbsp;ok</h3>


<div class="description">

<p>Picks&nbsp;a&nbsp;server&nbsp;and&nbsp;issues&nbsp;the&nbsp;cast&nbsp;to&nbsp;it</p>
</div></div>
<div class="function">
<h3 id="stats/1">stats(Sup::name())&nbsp;-&gt;&nbsp;stats()</h3>


<div class="description">

<p>Retrieves&nbsp;a&nbsp;snapshot&nbsp;of&nbsp;the&nbsp;pool&nbsp;stats</p>
</div></div></div>

<authors>

<aname>Fernando&nbsp;Benavides</aname>
<email>elbrujohalcon@inaka.net</email></authors>
      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
